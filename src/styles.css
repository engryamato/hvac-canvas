html,body,#root{height:100%;margin:0;padding:0;}
body{margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;}

/* Layout */
.fixed{position:fixed}
.absolute{position:absolute}
.relative{position:relative}
.inset-0{top:0;right:0;bottom:0;left:0;width:100%;height:100%}
.w-screen{width:100vw}
.h-screen{height:100vh}
.overflow-hidden{overflow:hidden}
.overflow-auto{overflow:auto}
.z-10{z-index:10}

/* Colors - Using design tokens */
.bg-white{background:#fff}
.bg-white\/95{background:rgba(255,255,255,0.95)}
.bg-neutral-50{background:var(--color-neutral-50)}
.bg-neutral-100{background:var(--color-neutral-100)}
.bg-neutral-200{background:var(--color-neutral-200)}
.bg-neutral-300{background:var(--color-neutral-300)}
.bg-primary-50{background:var(--color-primary-50)}
.bg-primary-600{background:var(--color-primary-600)}
.bg-primary-700{background:var(--color-primary-700)}
.bg-error-50{background:var(--color-error-50)}
.bg-error-600{background:var(--color-error-600)}
.bg-error-700{background:var(--color-error-700)}
.bg-success-50{background:var(--color-success-50)}
.bg-success-600{background:var(--color-success-600)}
.bg-warning-50{background:var(--color-warning-50)}
.bg-warning-600{background:var(--color-warning-600)}
.text-white{color:#fff}
.text-neutral-400{color:var(--color-neutral-400)}
.text-neutral-500{color:var(--color-neutral-500)}
.text-neutral-600{color:var(--color-neutral-600)}
.text-neutral-700{color:var(--color-neutral-700)}
.text-neutral-800{color:var(--color-neutral-800)}
.text-neutral-900{color:var(--color-neutral-900)}
.text-primary-600{color:var(--color-primary-600)}
.text-error-600{color:var(--color-error-600)}
.text-success-600{color:var(--color-success-600)}
.text-warning-600{color:var(--color-warning-600)}
.text-info-600{color:var(--color-info-600)}
.border{border-width:1px}
.border-2{border-width:2px}
.border-b{border-bottom-width:1px}
.border-l{border-left-width:1px}
.border-t{border-top-width:1px}
.border-neutral-100{border-color:var(--color-neutral-100)}
.border-neutral-200{border-color:var(--color-neutral-200)}
.border-neutral-300{border-color:var(--color-neutral-300)}

/* Cursor */
.cursor-crosshair{cursor:crosshair}
.cursor-default{cursor:default}
.cursor-not-allowed{cursor:not-allowed}

/* Flexbox */
.flex{display:flex}
.flex-1{flex:1 1 0%}
.flex-col{flex-direction:column}
.items-center{align-items:center}
.justify-center{justify-content:center}
.gap-2{gap:0.5rem}
.gap-3{gap:0.75rem}
.gap-4{gap:1rem}

/* Spacing */
.p-2{padding:0.5rem}
.p-4{padding:1rem}
.px-2{padding-left:0.5rem;padding-right:0.5rem}
.px-3{padding-left:0.75rem;padding-right:0.75rem}
.px-4{padding-left:1rem;padding-right:1rem}
.py-1{padding-top:0.25rem;padding-bottom:0.25rem}
.py-1\.5{padding-top:0.375rem;padding-bottom:0.375rem}
.py-2{padding-top:0.5rem;padding-bottom:0.5rem}
.ml-2{margin-left:0.5rem}
.ml-8{margin-left:2rem}
.mt-1{margin-top:0.25rem}
.mt-8{margin-top:2rem}
.top-0{top:0}
.top-3{top:0.75rem}
.left-0{left:0}
.left-3{left:0.75rem}
.right-0{right:0}
.bottom-0{bottom:0}
.bottom-6{bottom:1.5rem}
.right-6{right:1.5rem}
.w-4{width:1rem}
.w-6{width:1.5rem}
.w-10{width:2.5rem}
.w-11{width:2.75rem}
.w-12{width:3rem}
.w-14{width:3.5rem}
.w-full{width:100%}
.h-4{height:1rem}
.h-11{height:2.75rem}
.h-12{height:3rem}
.h-14{height:3.5rem}
.h-full{height:100%}
.h-\[60px\]{height:60px}
.min-w-\[70px\]{min-width:70px}

/* Border radius - Using design tokens */
.rounded{border-radius:var(--radius-sm)}
.rounded-md{border-radius:var(--radius-md)}
.rounded-lg{border-radius:var(--radius-lg)}
.rounded-xl{border-radius:var(--radius-xl)}
.rounded-2xl{border-radius:var(--radius-2xl)}
.rounded-full{border-radius:var(--radius-full)}

/* Shadows - Using design tokens */
.shadow-sm{box-shadow:var(--shadow-sm)}
.shadow-md{box-shadow:var(--shadow-md)}
.shadow-lg{box-shadow:var(--shadow-lg)}
.shadow-xl{box-shadow:var(--shadow-xl)}
.shadow-\[0_-2px_10px_rgba\(0\,0\,0\,0\.1\)\]{box-shadow:0 -2px 10px rgba(15, 23, 42, 0.1)}
.ring-2{box-shadow:0 0 0 2px currentColor}
.ring-neutral-200{--tw-ring-color:var(--color-neutral-200);box-shadow:0 0 0 2px var(--tw-ring-color)}
.ring-neutral-300{--tw-ring-color:var(--color-neutral-300);box-shadow:0 0 0 2px var(--tw-ring-color)}

/* Effects */
.backdrop-blur{-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}
.opacity-40{opacity:0.4}

/* Text */
.text-xs{font-size:0.75rem;line-height:1rem}
.text-sm{font-size:0.875rem;line-height:1.25rem}
.text-lg{font-size:1.125rem;line-height:1.75rem}
.text-2xl{font-size:1.5rem;line-height:2rem}
.text-left{text-align:left}
.text-right{text-align:right}
.text-center{text-align:center}
.font-medium{font-weight:500}
.font-semibold{font-weight:600}
.font-bold{font-weight:700}
.tabular-nums{font-variant-numeric:tabular-nums}

/* Interactions */
.select-none{-webkit-user-select:none;user-select:none}
.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}
.focus\:ring-2:focus{box-shadow:0 0 0 2px var(--color-primary-500)}
.focus-visible\:ring-2:focus-visible{box-shadow:0 0 0 2px var(--color-primary-500);outline:none}

/* Transitions - Using design tokens */
.transition-colors{transition:background-color var(--transition-base), color var(--transition-base)}
.transition-transform{transition:transform var(--transition-base)}
.transition-all{transition:all var(--transition-base)}
.transition-spring{transition:all var(--transition-spring)}
.scale-102{transform:scale(1.02)}
.scale-105{transform:scale(1.05)}
.scale-110{transform:scale(1.1)}

/* Gradients */
.bg-gradient-primary{background:var(--gradient-primary)}
.bg-gradient-primary-hover{background:var(--gradient-primary-hover)}
.bg-gradient-accent{background:var(--gradient-accent)}

/* Enhanced Shadows */
.shadow-primary-sm{box-shadow:var(--shadow-primary-sm)}
.shadow-primary-md{box-shadow:var(--shadow-primary-md)}
.shadow-primary-lg{box-shadow:var(--shadow-primary-lg)}
.shadow-glow-sm{box-shadow:var(--shadow-glow-sm)}
.shadow-glow-md{box-shadow:var(--shadow-glow-md)}
.shadow-glow-lg{box-shadow:var(--shadow-glow-lg)}
.shadow-inner-sm{box-shadow:var(--shadow-inner-sm)}
.shadow-inner-md{box-shadow:var(--shadow-inner-md)}

/* Animations */
.animate-pulse{animation:var(--animation-pulse)}
.animate-pulse-slow{animation:var(--animation-pulse-slow)}
.animate-shimmer{animation:var(--animation-shimmer)}
.animate-fade-in{animation:var(--animation-fade-in)}
.animate-slide-in-right{animation:var(--animation-slide-in-right)}
.animate-scale-in{animation:var(--animation-scale-in)}

/* Keyframes */
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.7}}
@keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}
@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}
@keyframes slideInRight{0%{transform:translateX(100%);opacity:0}100%{transform:translateX(0);opacity:1}}
@keyframes scaleIn{0%{transform:scale(0.95);opacity:0}100%{transform:scale(1);opacity:1}}

/* Group hover */
.group:hover .group-hover\:text-neutral-900{color:var(--color-neutral-900)}

/* Hover states */
.hover\:bg-neutral-50:hover{background:var(--color-neutral-50)}
.hover\:bg-neutral-100:hover{background:var(--color-neutral-100)}
.hover\:bg-neutral-300:hover{background:var(--color-neutral-300)}
.hover\:bg-primary-700:hover{background:var(--color-primary-700)}
.hover\:bg-error-700:hover{background:var(--color-error-700)}
.hover\:shadow-md:hover{box-shadow:var(--shadow-md)}
.hover\:shadow-xl:hover{box-shadow:var(--shadow-xl)}
.hover\:border-primary-300:hover{border-color:var(--color-primary-300)}
.hover\:scale-105:hover{transform:scale(1.05)}
.hover\:scale-110:hover{transform:scale(1.1)}

/* Disabled states */
.disabled\:opacity-40:disabled{opacity:0.4}
.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}

/* Custom properties for tech blue */
.bg-\[var\(--tech-blue-600\)\]{background:var(--tech-blue-600)}
.bg-\[var\(--tech-blue-700\)\]{background:var(--tech-blue-700)}
.ring-\[var\(--tech-blue-300\)\]{box-shadow:0 0 0 2px var(--tech-blue-300)}
.ring-\[var\(--tech-blue-600\)\]{box-shadow:0 0 0 2px var(--tech-blue-600)}
.focus\:ring-\[var\(--tech-blue-300\)\]:focus{box-shadow:0 0 0 2px var(--tech-blue-300)}
.focus\:ring-\[var\(--tech-blue-600\)\]:focus{box-shadow:0 0 0 2px var(--tech-blue-600)}
.hover\:bg-\[var\(--tech-blue-700\)\]:hover{background:var(--tech-blue-700)}
.hover\:ring-neutral-300:hover{box-shadow:0 0 0 2px #d4d4d4}
.accent-\[var\(--tech-blue-600\)\]{accent-color:var(--tech-blue-600)}

/* ========================================
   Line Properties Modal - Utility Classes
   ======================================== */

/**
 * Modal Container
 * Base styles for the modal container
 */
.modal-container {
  width: 220px;
  padding: 16px;
  background: #ffffff;
  border-radius: 8px;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
}

/**
 * Modal Header
 * Header section with title and close button
 */
.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: 32px;
  padding: 0 16px;
}

.modal-header-title {
  font-size: 14px;
  font-weight: 600;
  line-height: 1.5;
  color: #111827;
}

/**
 * Modal Tabs
 * Tab navigation styles with 44px minimum touch target
 */
.modal-tab {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 44px;
  font-size: 13px;
  font-weight: 500;
  line-height: 1.5;
  transition: background-color 150ms ease-in-out, color 150ms ease-in-out;
}

.modal-tab-active {
  background: #2563eb;
  color: #ffffff;
  border-bottom: 2px solid #2563eb;
}

.modal-tab-inactive {
  background: transparent;
  color: #6b7280;
}

.modal-tab-inactive:hover {
  background: #f3f4f6;
}

/**
 * Modal Input
 * Input field styles with 44px minimum touch target
 */
.modal-input {
  min-height: 44px;
  padding: 0 12px;
  font-size: 14px;
  font-weight: 400;
  line-height: 1.5;
  color: #111827;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 4px;
  transition: border-color 150ms ease-in-out, box-shadow 150ms ease-in-out;
}

.modal-input:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);
}

.modal-input:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  background: #f9fafb;
}

/**
 * Modal Button
 * Button styles with 44px minimum touch target
 */
.modal-button {
  min-height: 44px;
  padding: 0 12px;
  font-size: 14px;
  font-weight: 600;
  line-height: 1.5;
  border-radius: 6px;
  transition: background-color 150ms ease-in-out, border-color 150ms ease-in-out;
}

.modal-button-primary {
  background: #ffffff;
  color: #374151;
  border: 1px solid #e5e7eb;
}

.modal-button-primary:hover {
  background: #f9fafb;
}

.modal-button-danger {
  background: #ffffff;
  color: #dc2626;
  border: 1px solid #dc2626;
}

.modal-button-danger:hover {
  background: #fef2f2;
}

.modal-button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/**
 * Modal Chip
 * Chip/tag styles
 */
.modal-chip {
  display: inline-flex;
  align-items: center;
  padding: 0 8px;
  font-size: 12px;
  font-weight: 500;
  line-height: 1.5;
  border-radius: 14px;
  transition: background-color 150ms ease-in-out, color 150ms ease-in-out;
}

.modal-chip-medium {
  height: 28px;
}

.modal-chip-small {
  min-height: 44px;
  padding-top: 10px;
  padding-bottom: 10px;
}

.modal-chip-active {
  background: #2563eb;
  color: #ffffff;
}

.modal-chip-inactive {
  background: #ffffff;
  color: #6b7280;
  border: 1px solid #e5e7eb;
}

/**
 * Modal Dropdown
 * Dropdown menu styles
 */
.modal-dropdown {
  position: relative;
}

.modal-dropdown-trigger {
  min-height: 44px;
  padding: 0 12px;
  font-size: 14px;
  font-weight: 400;
  line-height: 1.5;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 4px;
  transition: border-color 150ms ease-in-out;
}

.modal-dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  max-height: 224px;
  margin-top: 4px;
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 4px;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  overflow-y: auto;
  z-index: 10;
}

.modal-dropdown-item {
  min-height: 44px;
  padding: 0 12px;
  font-size: 14px;
  line-height: 44px;
  cursor: pointer;
  transition: background-color 150ms ease-in-out;
}

.modal-dropdown-item:hover {
  background: #f3f4f6;
}

/**
 * Modal Section
 * Section container styles
 */
.modal-section {
  margin-top: 16px;
}

.modal-section:first-child {
  margin-top: 0;
}

.modal-section-title {
  font-size: 12px;
  font-weight: 500;
  line-height: 1.5;
  color: #6b7280;
  margin-bottom: 8px;
}

/**
 * Modal Separator
 * Horizontal divider
 */
.modal-separator {
  height: 1px;
  background: #e5e7eb;
  border: none;
  margin: 8px 0;
}

/* ========================================
   Line Properties Modal - Animations
   ======================================== */

/**
 * Modal Fade In
 * Opening animation with fade and scale
 */
@keyframes modalFadeIn {
  0% {
    opacity: 0;
    transform: scale(0.95);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/**
 * Modal Fade Out
 * Closing animation with fade
 */
@keyframes modalFadeOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

/**
 * Expand Section
 * Expandable section opening animation
 */
@keyframes expandSection {
  0% {
    max-height: 0;
    opacity: 0;
  }
  66% {
    opacity: 0;
  }
  100% {
    max-height: 500px;
    opacity: 1;
  }
}

/**
 * Collapse Section
 * Expandable section closing animation
 */
@keyframes collapseSection {
  0% {
    max-height: 500px;
    opacity: 1;
  }
  33% {
    opacity: 0;
  }
  100% {
    max-height: 0;
    opacity: 0;
  }
}

/**
 * Animation Classes
 * Apply animations to elements
 */
.animate-modal-fade-in {
  animation: modalFadeIn 200ms ease-in-out;
}

.animate-modal-fade-out {
  animation: modalFadeOut 150ms ease-in-out;
}

.animate-expand-section {
  animation: expandSection 300ms ease-in-out;
}

.animate-collapse-section {
  animation: collapseSection 300ms ease-in-out;
}

/* ========================================
   Accessibility - Focus Indicators
   ======================================== */

/**
 * Focus Visible Styles
 * Keyboard-only focus indicators (not shown on mouse click)
 *
 * Uses :focus-visible pseudo-class for better UX
 * - 2px blue outline (#3b82f6)
 * - 2px offset from element
 * - Applied to all interactive elements
 * - Ensures 3:1 contrast ratio for visibility
 */

/* Remove default browser outline */
*:focus {
  outline: none;
}

/* Keyboard-only focus indicators */
button:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible,
a:focus-visible,
[role="button"]:focus-visible,
[role="tab"]:focus-visible,
[tabindex]:focus-visible {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

/* Modal-specific focus indicators */
.modal-tab:focus-visible {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

.modal-input:focus-visible {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

.modal-button:focus-visible {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

.modal-chip:focus-visible {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

.modal-dropdown-trigger:focus-visible {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

.modal-dropdown-item:focus-visible {
  outline: 2px solid #3b82f6;
  outline-offset: 2px;
}

/* Screen reader only content */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* ========================================
   Accessibility - Touch Targets
   ======================================== */

/**
 * Touch Target Sizing
 * Ensures all interactive elements meet 44px minimum touch target
 * Per WCAG 2.1 Level AAA guidelines
 *
 * Touch target sizing is integrated into the base modal classes above:
 * - .modal-button: min-height 44px
 * - .modal-tab: min-height 44px
 * - .modal-input: min-height 44px
 * - .modal-chip-small: min-height 44px with expanded padding
 * - .modal-dropdown-trigger: min-height 44px
 * - .modal-dropdown-item: min-height 44px
 */

/* Close button - expand hit area */
button[aria-label="Close modal"] {
  min-width: 44px;
  min-height: 44px;
  padding: 12px;
}

/* Tablet-specific touch targets */
@media (min-width: 768px) and (max-width: 1023px) {
  /* Ensure all interactive elements are at least 44px */
  button,
  input,
  select,
  textarea,
  a,
  [role="button"],
  [role="tab"] {
    min-height: 44px;
  }

  /* Expand padding for small elements */
  .modal-chip-small,
  button[aria-label="Close modal"] {
    padding: 12px;
  }
}